#include stdio.h
#include pthread.h
#include semaphore.h
#include unistd.h

sem_t m;

void thread(void arg)

{
   
    sem_wait(&m);
    printf(A pidem %dnVárakozás..n, getpid());  
    sleep(3);  
    sem_post(&m);
}

int main()

{
    	sem_init(&m, 0, 1);
    	pthread_t t1,t2,t3;   3 feladat
    	pthread_create(&t1, NULL,thread,NULL);
    	pthread_create(&t2, NULL,thread,NULL);
	pthread_create(&t3, NULL,thread,NULL);

    	pthread_join(t1, NULL);
    	pthread_join(t2, NULL);
	pthread_join(t3, NULL);

    sem_destroy(&m);   
     
    return 0;
}